<% layout('layouts/boilerplate') -%>

<div class="container-fluid mt-0" id="map" style="height: 400px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">

</div>


    <h1 class="my-4">All Campgrounds</h1>

    <% for(let camp of camps) {%>

    <div class="card mb-3 mt-4">
        <div class="row">
            

            <div  class="col-md-4">
                <% for(let img of camp.images) {%>
                    <img id="showImage" class="img-fluid img-thumbnail" src="<%= img.url %>" alt="">
                    <% } %> 
                
            </div>

            <div class="col-md-8 card-body">
                <h4 class="card-title"><%= camp.title %></h4>
                <p class="card-text text-muted"><%= camp.location %> </p>
                <p class="card-text"><%= camp.description %> </p>
                <a class="btn btn-success" href="/campgrounds/<%= camp._id %> ">More</a>
            </div>

        </div>

    </div>

    <% } %>

    <script>
        const mapToken = '<%-process.env.MAPBOX_TOKEN%>';
        const campgrounds = {features: <%- JSON.stringify(camps) %>}
      </script>

    <script src="/javascripts/clusterMap.js"></script>
   